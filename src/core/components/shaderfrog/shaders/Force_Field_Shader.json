{
  "id": 4118,
  "name": "Force_Field_Shader",
  "fragment": "#define PI 3.1415926535897932384626433832795\n\nprecision highp float;\nprecision highp int;\nuniform vec3 Star_Swamp_3D_version_1574580502221_173_baseColor;\nuniform float Star_Swamp_3D_version_1574580502221_173_brightness;\nuniform float scale;\nuniform float time;\nuniform float Caustic_Image_Based1574580524135_199_speed;\nuniform float Caustic_Image_Based1574580524135_199_resolution;\nuniform vec3 color;\nuniform sampler2D image;\nuniform float Caustic_Image_Based1574580524135_199_brightness;\nuniform float Circuit_Grid1574580550570_213_resolution;\nuniform float intensity;\nuniform float Circuit_Grid1574580550570_213_speed;\nuniform vec3 lightColor;\nuniform vec3 Circuit_Grid1574580550570_213_baseColor;\nvarying vec2 Star_Swamp_3D_version_1574580502221_173_vUv;\nvarying vec3 Star_Swamp_3D_version_1574580502221_173_vPosition;\nvarying vec3 Star_Swamp_3D_version_1574580502221_173_vNormal;\nfloat field(in vec3 p) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float strength = 7. + .03 * log(1.e-6 + fract(sin(1.0) * 4373.11));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float accum = 0.;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float prev = 0.;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float tw = 0.;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                for (int i = 0;\n i < 32; ++i) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    float mag = dot(p, p);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    p = abs(p) / mag + vec3(-.51, -.4, -1.3);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    float w = exp(-float(i) / 7.);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    accum += w * exp(-strength * pow(abs(mag - prev), 2.3));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    tw += w;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    prev = mag;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return max(0., 5. * accum / tw - .2);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec3 nrand3(vec2 co) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 a = fract(cos(co.x * 8.3e-3 + co.y) * vec3(1.3e5, 4.7e5, 2.9e5));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 b = fract(sin(co.x * 0.3e-3 + co.y) * vec3(8.1e5, 1.0e5, 0.1e5));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 c = mix(a, b, 0.5);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return c;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvarying vec2 Caustic_Image_Based1574580524135_199_vUv;\nvarying vec3 Caustic_Image_Based1574580524135_199_vPosition;\nvarying vec3 Caustic_Image_Based1574580524135_199_vNormal;\nvec3 lig = normalize(vec3(0.9, 0.35, -0.2));\nvarying vec2 Circuit_Grid1574580550570_213_vUv;\nvarying vec3 Circuit_Grid1574580550570_213_vPosition;\nvec2 circuit(vec2 p) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                p = fract(p);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float r = 0.3;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float v = 0.0, g = 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float d;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const int iter = 7;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                for (int i = 0;\n i < iter; i++) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    d = p.x - r;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    g += pow(clamp(1.0 - abs(d), 0.0, 1.0), 200.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (d > 0.0) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        p.x = (p.x - r) / (1.8 - r);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n else \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        p.x = p.x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    p = p.yx;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                v /= float(iter);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return vec2(g, v);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 Star_Swamp_3D_version_1574580502221_173_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Star_Swamp_3D_version_1574580502221_173_gl_FragColor = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 pos = Star_Swamp_3D_version_1574580502221_173_vPosition / scale;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p = vec3(pos / 4.) + vec3(2., -1.3, -1.);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                p += 0.18 * vec3(sin(1.0 / 16.), sin(1.0 / 12.), sin(1.0 / 128.));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p2 = vec3(pos / (4. + sin(1.0 * 0.11) * 0.2 + 0.2 + sin(1.0 * 0.15) * 0.3 + 0.4)) + vec3(2., -1.3, -1.);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                p2 += 0.2 * vec3(sin(1.0 / 16.), sin(1.0 / 12.), sin(1.0 / 128.));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p3 = vec3(pos / (4. + sin(1.0 * 0.14) * 0.23 + 0.23 + sin(1.0 * 0.19) * 0.31 + 0.31)) + vec3(2., -1.3, -1.);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                p3 += 0.25 * vec3(sin(1.0 / 16.), sin(1.0 / 12.), sin(1.0 / 128.));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float t = field(p);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float t2 = field(p2);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float t3 = field(p3);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float v = (1. - exp((abs(pos.x) - 1.) * 6.)) * (1. - exp((abs(pos.y) - 1.) * 6.)) * (1. - exp((abs(pos.z) - 1.) * 6.));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 c1 = mix(.9, 1., v) * vec3(1.8 * t * t * t, 1.4 * t * t, t);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 c2 = mix(.8, 1., v) * vec3(1.9 * t2 * t2 * t2, 1.8 * t2 * t2, t2);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 c3 = mix(.8, 1., v) * vec3(1.4 * t3 * t3 * t3, 1.8 * t3 * t3, t3);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                c1 *= Star_Swamp_3D_version_1574580502221_173_baseColor;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                c2 *= Star_Swamp_3D_version_1574580502221_173_baseColor;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                c3 *= Star_Swamp_3D_version_1574580502221_173_baseColor;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Star_Swamp_3D_version_1574580502221_173_gl_FragColor = vec4(Star_Swamp_3D_version_1574580502221_173_brightness * vec3(c1 * 0.7 + c2 * 0.9 + c3 * 0.1), 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Star_Swamp_3D_version_1574580502221_173_gl_FragColor *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 Caustic_Image_Based1574580524135_199_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Caustic_Image_Based1574580524135_199_gl_FragColor = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 uvMax = (2.0 * asin(sin(2.0 * PI * Caustic_Image_Based1574580524135_199_vUv))) / PI;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 position = Caustic_Image_Based1574580524135_199_vUv * Caustic_Image_Based1574580524135_199_resolution;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 nor = vec3(0.0, 1.0, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float dif = max(dot(nor, lig), 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 pos = vec3(position.x, 0.0, position.y);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float timeScale = time * Caustic_Image_Based1574580524135_199_speed;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 brdf = vec3(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float cc = 0.55 * texture2D(image, 1.8 * 0.02 * pos.xz + 0.007 * timeScale * vec2(1.0, 0.0)).x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                cc += 0.25 * texture2D(image, 1.8 * 0.04 * pos.xz + 0.011 * timeScale * vec2(0.0, 1.0)).x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                cc += 0.10 * texture2D(image, 1.8 * 0.08 * pos.xz + 0.014 * timeScale * vec2(-1.0, -1.0)).x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                cc = 0.6 * (1.0 - smoothstep(0.0, 0.025, abs(cc - 0.4))) + 0.4 * (1.0 - smoothstep(0.0, 0.150, abs(cc - 0.4)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 col = color * cc;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Caustic_Image_Based1574580524135_199_gl_FragColor = vec4(color * cc * Caustic_Image_Based1574580524135_199_brightness, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Caustic_Image_Based1574580524135_199_gl_FragColor *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 Circuit_Grid1574580550570_213_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Circuit_Grid1574580550570_213_gl_FragColor = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 uv = (Circuit_Grid1574580550570_213_vUv.xy + 0.5) * Circuit_Grid1574580550570_213_resolution;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 cid2 = floor(uv);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float cid = (cid2.y + cid2.x);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 dg = circuit(uv);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float d = dg.x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 col1 = (0.2 - vec3(max(min(d, 2.0) - 1.0, 0.0))) * Circuit_Grid1574580550570_213_baseColor;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 col2 = vec3(max(d - 1.0, 0.0)) * lightColor;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                float f = max(0.4 - mod(uv.y - uv.x + (time * Circuit_Grid1574580550570_213_speed) + (dg.y * 0.2), 2.5), 0.0) * intensity;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                col2 *= f;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Circuit_Grid1574580550570_213_gl_FragColor = vec4(col1 + col2, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Circuit_Grid1574580550570_213_gl_FragColor *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvoid main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                gl_FragColor = (Star_Swamp_3D_version_1574580502221_173_main() + Caustic_Image_Based1574580524135_199_main() + Circuit_Grid1574580550570_213_main());                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n",
  "vertex": "precision highp float;\nprecision highp int;\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\nvarying vec2 Star_Swamp_3D_version_1574580502221_173_vUv;\nvarying vec3 Star_Swamp_3D_version_1574580502221_173_vPosition;\nvarying vec3 Star_Swamp_3D_version_1574580502221_173_vNormal;\nvarying vec2 Caustic_Image_Based1574580524135_199_vUv;\nvarying vec3 Caustic_Image_Based1574580524135_199_vPosition;\nvarying vec3 Caustic_Image_Based1574580524135_199_vNormal;\nvarying vec2 Circuit_Grid1574580550570_213_vUv;\nvarying vec3 Circuit_Grid1574580550570_213_vPosition;\nvec4 Star_Swamp_3D_version_1574580502221_173_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Star_Swamp_3D_version_1574580502221_173_gl_Position = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Star_Swamp_3D_version_1574580502221_173_vUv = uv;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Star_Swamp_3D_version_1574580502221_173_vPosition = position;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Star_Swamp_3D_version_1574580502221_173_vNormal = normal;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Star_Swamp_3D_version_1574580502221_173_gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Star_Swamp_3D_version_1574580502221_173_gl_Position *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 Caustic_Image_Based1574580524135_199_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Caustic_Image_Based1574580524135_199_gl_Position = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Caustic_Image_Based1574580524135_199_vUv = uv;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Caustic_Image_Based1574580524135_199_vPosition = position;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Caustic_Image_Based1574580524135_199_vNormal = normal;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Caustic_Image_Based1574580524135_199_gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Caustic_Image_Based1574580524135_199_gl_Position *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 Circuit_Grid1574580550570_213_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Circuit_Grid1574580550570_213_gl_Position = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Circuit_Grid1574580550570_213_vUv = uv;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Circuit_Grid1574580550570_213_vPosition = position;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Circuit_Grid1574580550570_213_gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Circuit_Grid1574580550570_213_gl_Position *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvoid main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                gl_Position = Star_Swamp_3D_version_1574580502221_173_main() + Caustic_Image_Based1574580524135_199_main() + Circuit_Grid1574580550570_213_main();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n",
  "uniforms": {
    "scale": {
      "value": "6.13511188",
      "type": "f",
      "glslType": "float"
    },
    "time": {
      "type": "f",
      "glslType": "float"
    },
    "Star_Swamp_3D_version_1574580502221_173_brightness": {
      "value": "2.5",
      "type": "f",
      "glslType": "float"
    },
    "Star_Swamp_3D_version_1574580502221_173_baseColor": {
      "value": {
        "r": 0.12941176470588237,
        "g": 0,
        "b": 0.788235294117647
      },
      "type": "c",
      "glslType": "vec3"
    },
    "color": {
      "value": {
        "r": 1,
        "g": 1,
        "b": 1
      },
      "type": "c",
      "glslType": "vec3"
    },
    "image": {
      "value": null,
      "type": "t",
      "glslType": "sampler2D"
    },
    "Caustic_Image_Based1574580524135_199_brightness": {
      "value": "1",
      "type": "f",
      "glslType": "float"
    },
    "Caustic_Image_Based1574580524135_199_speed": {
      "value": "0.2",
      "type": "f",
      "glslType": "float"
    },
    "Caustic_Image_Based1574580524135_199_resolution": {
      "value": "0.5",
      "type": "f",
      "glslType": "float"
    },
    "intensity": {
      "value": "10",
      "type": "f",
      "glslType": "float"
    },
    "lightColor": {
      "value": {
        "r": 0.9607843137254902,
        "g": 0.8745098039215686,
        "b": 0
      },
      "type": "c",
      "glslType": "vec3"
    },
    "Circuit_Grid1574580550570_213_resolution": {
      "value": "6",
      "type": "f",
      "glslType": "float"
    },
    "Circuit_Grid1574580550570_213_speed": {
      "value": "1",
      "type": "f",
      "glslType": "float"
    },
    "Circuit_Grid1574580550570_213_baseColor": {
      "value": {
        "r": 0.7019607843137254,
        "g": 0.7019607843137254,
        "b": 0.7019607843137254
      },
      "type": "c",
      "glslType": "vec3"
    }
  },
  "url": "http://shaderfrog.com/app/view/4118",
  "user": {
    "username": "SirFizX",
    "url": "http://shaderfrog.com/app/profile/andrewray"
  }
}
